# FastAPI and server
fastapi==0.115.0
uvicorn[standard]==0.32.0
python-multipart==0.0.18

# Database
sqlmodel==0.0.22
psycopg2-binary==2.9.10  # PostgreSQL driver for production
alembic==1.13.1  # Database migrations

# Object Storage
minio==7.2.11  # MinIO Python client for S3-compatible storage

# OpenAI client for Whisper API
openai==1.55.3

# Speaker Diarization (CPU-only PyTorch to reduce image size)
# Install with: pip install -r requirements.txt
--extra-index-url https://download.pytorch.org/whl/cpu
torch==2.8.0+cpu
torchaudio==2.8.0+cpu
soundfile  # Audio I/O library (requires libsndfile system package)
matplotlib>=3.6,<3.10  # Compatible with pyannote 3.3.2, avoid 3.10 font_manager crash
huggingface_hub<1.0  # Pin to version compatible with pyannote 3.3.2 use_auth_token
pyannote.audio==3.3.2  # Use version before matplotlib 3.10 requirement

# Audio format conversion
pydub  # Audio conversion (requires ffmpeg system package)

# Authentication and Security
passlib[bcrypt]==1.7.4  # Password hashing with bcrypt
PyJWT==2.9.0  # JWT token generation and validation
slowapi==0.1.9  # Rate limiting for FastAPI (Phase 4: Security Hardening)
bleach==6.0.0  # HTML sanitization to prevent XSS attacks (Phase 4: Security Hardening)

# Environment and utilities
python-dotenv==1.0.1

# Background Task Processing
celery>=5.5.3  # Distributed task queue
redis>=5.0.1  # Redis client for Celery broker/backend
flower==2.0.1  # Celery monitoring UI (optional)

# Logging
python-json-logger==2.0.7  # Structured JSON logging

# AI Actions (LlamaStack)
llama-stack-client
